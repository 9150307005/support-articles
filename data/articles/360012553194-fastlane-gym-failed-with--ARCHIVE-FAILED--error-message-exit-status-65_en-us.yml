id: 360012553194
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360012553194.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360012553194-fastlane-gym-failed-with-ARCHIVE-FAILED-error-message-exit-status-65-
author_id: 365473206774
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: -4
vote_count: 4
section_id: 115003327088
created_at: '2018-11-27T02:51:37Z'
updated_at: '2020-10-22T07:03:07Z'
name: fastlane gym failed with "** ARCHIVE FAILED **" error message (exit status 65)
title: fastlane gym failed with "** ARCHIVE FAILED **" error message (exit status 65)
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:59:11Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - fastlane
  - ios
  - gym
body: "<p>It is difficult to find out the issue from the above error message alone, as the <a href=\"https://circleci.com/blog/xcodebuild-exit-code-65-what-it-is-and-how-to-solve-for-ios-and-macos-builds/\">exit code 65</a> is used as a general xcodebuild error code. Hence there could be many reasons why the build failed at the archive step.\_</p>\n<p>You can try the following steps to troubleshoot this problem.\_\_</p>\n<ol>\n<li>Check your\_<a href=\"https://support.circleci.com/hc/en-us/articles/115015983028\">Code Signing setting</a>\n</li>\n<li>Check your environment variables. (For example: Build Number) If the build succeeds on your local machine but fails in the CI environment, there could be environment variables defined on the local machine, but not made available to builds on CircleCI, causing the build to fail.</li>\n<li>Check fastlane's log for more information about why the fastlane command failed. The log may contain details about the root cause of the error, for instance missing provisioning profiles. The log path is printed in the output of the fastlane command, for example: /Users/distiller/driver-application/buildlogs/gym/DriverApplication-DriverApplication.log You could either SSH into a rebuild to access the log or upload the file as an <a href=\"https://circleci.com/docs/2.0/artifacts/#uploading-artifacts\">artifact</a>.</li>\n<li>Check if Xcode SDK version should be defined in the gym configuration in the Fastfile</li>\n</ol>\n<pre><code>    gym(\n      sdk: \"iphoneos11.4\"\n    )</code></pre>\n<p>(Setting the sdk option results in the -sdk argument being specified in the xcodebuild command that fastlane uses)</p>\n<p>\_</p>\n<p>\_</p>"
