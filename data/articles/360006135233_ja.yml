id: 360006135233
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360006135233.json
html_url: https://support.circleci.com/hc/ja/articles/360006135233
author_id: 28200990948
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003756627
created_at: '2018-06-20T14:30:54Z'
updated_at: '2020-10-22T06:58:18Z'
name: '`Error applying workspace layer for job`を修正する方法'
title: '`Error applying workspace layer for job`を修正する方法'
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2018-11-14T01:34:31Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - workspaces
  - tarball
  - workspace
body: "<p>プロジェクトで <a href=\"https://circleci.com/docs/2.0/workflows/#using-workspaces-to-share-data-among-jobs\">Workspaces</a> を利用しており、後で Workspace を Workflow に接続するとき問題が発生した場合、メモリ制限を超過している可能性があります。</p>\n<p>この場合のエラーは次のようなものになります。</p>\n<pre><code class=\"bash\">\n\"Error applying workspace layer for job 5cb8xxxx-xxxx-4499-9xxxx-1aaa2943xxxx: \nError extracting tarball /tmp/workspace-layer-5cb8xxxx-xxxx-4499-9xxx-1aaa2943xxxxx04313xx: \nsignal: killed\"\n</code></pre>\n<p>この `signal: killed` メッセージが表示されるエラーの場合、プロセスが安全に停止されたことを意味します。 これは、コンテナがメモリリソースの制限を超過したことを示すメッセージです。 エラーにこのメッセージが含まれていない場合でも、失敗の理由はほぼ同じです。</p>\n<p>\_</p>\n<h2>解決方法</h2>\n<ol>\n<li>tarball のサイズを減らします。 tarball が大きいほど、解凍に必要なメモリが多くなります。 Workspace の物理サイズがコンテナのメモリ制限 (デフォルトでは 4GB) に近い、または超えている場合、特に 1 つ以上のデータベースを同時に実行していると、この制限を超過する可能性が高くなります。</li>\n<li>\n<a href=\"https://circleci.com/support/premium-support/\">サポートに連絡し、</a> config.yml の `resource_class` キーを使用してコンテナのリソース制限を増やす方法について問い合わせてください。 \"PERFORMANCE プラン\"<br><a href=\"https://circleci.com/docs/2.0/configuration-reference/#resource_class\" target=\"_blank\" rel=\"noopener\">https://circleci.com/docs/2.0/configuration-reference/#resource_class</a> を使用している場合は、このオプションを利用できます。</li>\n</ol>"
