id: 360049698732
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360049698732.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360049698732-How-to-disable-legacy-Slack-integration
author_id: 409259336673
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 4
section_id: 115004127248
created_at: '2020-09-25T05:37:02Z'
updated_at: '2021-02-10T11:52:58Z'
name: How to disable legacy Slack integration
title: How to disable legacy Slack integration
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:56:17Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: >-
  <p>If you have the legacy Slack Integration enabled and would like to disable
  you can use the following API. Replacing {vcs} (github or bitbucket), {org},
  and {project} where appropriate. This API will disable your legacy Slack
  integration. You will need to create and pass <a
  href="https://circleci.com/docs/2.0/managing-api-tokens/#creating-a-personal-api-token"
  target="_self">the Personal API Token</a> in "Circle Token" header in order to
  authenticate the API call.</p>

  <pre>curl -X PUT
  'https://circleci.com/api/v1.1/project/{vcs}/{org}/{project}/settings" \<br> 
  -H 'Content-Type: application/json' \<br>  -H "Circle-Token: $CIRCLE_TOKEN"
  \<br>  --data-binary '{"slack_webhook_url":""}'</pre>

  <p>You can check that if it indeed disabled your legacy Slack Integration with
  following.</p>

  <pre>curl -X GET -H "Circle-Token: $CIRCLE_TOKEN"
  'https://circleci.com/api/v1.1/project/{vcs}/{org}/{project}/settings' | jq
  '.slack_webhook_url'</pre>

  <p>It will return a blank string if the legacy Slack Integration has been
  disabled successfully.</p>
