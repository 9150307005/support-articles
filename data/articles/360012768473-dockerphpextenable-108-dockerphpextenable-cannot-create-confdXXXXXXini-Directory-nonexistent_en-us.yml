id: 360012768473
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360012768473.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360012768473-docker-php-ext-enable-108-docker-php-ext-enable-cannot-create-conf-d-XXXXXX-ini-Directory-nonexistent
author_id: 405001866574
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 3
vote_count: 3
section_id: 115003756627
created_at: '2018-11-28T02:42:51Z'
updated_at: '2021-01-27T22:02:57Z'
name: >-
  docker-php-ext-enable: 108: docker-php-ext-enable: cannot create
  /conf.d/XXXXXX.ini: Directory nonexistent
title: >-
  docker-php-ext-enable: 108: docker-php-ext-enable: cannot create
  /conf.d/XXXXXX.ini: Directory nonexistent
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2021-01-27T22:02:57Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - docker
  - php
  - php image
  - php docker
body: "<p>A recent change in the way the config location of modules is decided in the upstream PHP images can result in the error message in the title.</p>\n<p>The config location is decided by the environment variable \"PHP_INI_DIR\", which is set as part of the image's environment.</p>\n<p>If using sudo to enable config, the necessary environment variable is stripped before the command is run, resulting in config going to the wrong place.</p>\n<p>To get things to work as they did before, you can add the -E flag to the sudo command to have it preserve the environment.</p>\n<p>Old config:</p>\n<pre>sudo docker-php-ext-install mcrypt\_</pre>\n<p>New config:</p>\n<pre>sudo -E docker-php-ext-install mcrypt</pre>"
