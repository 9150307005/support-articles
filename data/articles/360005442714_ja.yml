id: 360005442714
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360005442714.json
html_url: https://support.circleci.com/hc/ja/articles/360005442714
author_id: 25261361207
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: -2
vote_count: 4
section_id: 115003756627
created_at: '2018-06-07T18:35:39Z'
updated_at: '2020-10-22T06:59:05Z'
name: テストツールが高性能なため 正しく最適化されないケース
title: テストツールが高性能なため 正しく最適化されないケース
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2018-11-13T06:15:41Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: "<p>\_</p>\n<p>お客様のジョブは、CircleCI クラウド内の各種環境で実行される可能性があります。 これらの環境の中には多くのリソースがありますが、その環境で実行されるジョブは、利用可能なリソースのわずかな一部分にしかアクセスできません。</p>\n<p>例えば、Docker executor を使用すると、多くの場合はジョブが VM で実行され、32 個の CPU コアが利用可能です。 これにより、<strong>jest</strong>\_などのテストツールで問題が発生する可能性があります。このツールはデフォルトで、利用可能な CPU コアの数をもとにワーカーを生成するためです。 このツールは使用可能なコアが 32 個だと解釈しますが、実際に使用できるコアは 2 つだけです。 この誤解釈が問題を引き起こします。 お使いのツールが環境に応じてどのように設定を行うか、環境からツールに対してどのような情報が通知されるかに注意してください。</p>\n<p><strong>jest</strong> の場合、<a href=\"https://facebook.github.io/jest/docs/en/cli.html#maxworkers-num\" target=\"_blank\" rel=\"noopener\">--maxWorkers= コマンドラインオプションを使用してワーカーの数を制限</a>できます。</p>\n<p>\_</p>\n<p><iframe src=\"//www.youtube-nocookie.com/embed/CKDVkqIMpHM\" width=\"560\" height=\"315\" frameborder=\"0\" allowfullscreen=\"\"></iframe></p>"
