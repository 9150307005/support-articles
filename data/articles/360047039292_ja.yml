id: 360047039292
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360047039292.json
html_url: https://support.circleci.com/hc/ja/articles/360047039292
author_id: 405652843914
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 8
section_id: 115003755807
created_at: '2020-08-06T18:34:42Z'
updated_at: '2021-01-01T06:00:08Z'
name: 異なるプロジェクトでパイプラインをトリガーするステップ
title: 異なるプロジェクトでパイプラインをトリガーするステップ
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2020-10-22T07:03:09Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - workflow
  - api
  - workflows
  - trigger
  - pipelines
body: >-
  <p>あるプロジェクトの特定のワークフローによって、別のプロジェクトで新しいビルドをトリガーさせなければならない状況が発生する場合があります。
  たとえば、<code>blog</code> プロジェクトを更新する際に、<code>website</code>
  プロジェクトがすべて最新であることを維持するため、新しいビルドを開始する必要があるような場合があります。</p><p>この場合には、API
  コールを送信して<a href="https://circleci.com/docs/api/v2/#trigger-a-new-pipeline"
  target="_blank" rel="noopener">新しいパイプラインをトリガーする</a> <a
  href="https://circleci.com/docs/2.0/configuration-reference/#run"
  target="_blank" rel="noopener">run ステップ</a>を使用できます。 <a
  href="https://circleci.com/docs/2.0/managing-api-tokens/#creating-a-personal-api-token"
  target="_blank" rel="noopener">パーソナル API トークンを生成し</a>、そのトークンをこの run
  ステップが実行されるプロジェクト内で<a
  href="https://circleci.com/docs/2.0/env-vars/#setting-an-environment-variable-in-a-project"
  target="_blank" rel="noopener">環境変数</a>として保存する必要があります。</p><p>これが完了したら、この run
  ステップをプロジェクトのコンフィグに次のように追加します。</p><pre>- run:  name: Kick off new pipeline 
  command: |    curl --location --request POST
  'https://circleci.com/api/v2/project/(vcs)/(org)/(project)/pipeline' \   
  --header 'Content-Type: application/json' \    -u
  "${API_TOKEN}:"</pre><p>上のスニペットでは、<code>(vcs)</code> を <code>github</code> または
  <code>bitbucket</code> に、 <code>(org)</code> を自分の組織に、そして
  <code>(project)</code> を自分のプロジェクトの名前に更新する必要があります。</p>
