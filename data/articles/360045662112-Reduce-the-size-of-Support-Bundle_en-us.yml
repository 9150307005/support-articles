id: 360045662112
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360045662112.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360045662112-Reduce-the-size-of-Support-Bundle
author_id: 365473206774
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003327208
created_at: '2020-07-10T06:15:43Z'
updated_at: '2020-10-22T07:03:06Z'
name: Reduce the size of Support Bundle
title: Reduce the size of Support Bundle
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:58:16Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: "<p>After running the CircleCI Server for a while, the size of the Support bundle will gradually increase. This is because Replicated Operator <span style=\"font-weight: 400;\">continually accumulates\_</span>application logs and those logs are stored in the following path in the support bundle.</p>\n<div class=\"c-message_kit__gutter\">\n<div class=\"c-message_kit__gutter__right\" data-qa=\"message_content\">\n<div class=\"c-message_kit__blocks c-message_kit__blocks--rich_text\">\n<div class=\"c-message__message_blocks c-message__message_blocks--rich_text\">\n<div class=\"p-block_kit_renderer\" data-qa=\"block-kit-renderer\">\n<div class=\"p-block_kit_renderer__block_wrapper p-block_kit_renderer__block_wrapper--first\">\n<div class=\"p-rich_text_block\" dir=\"auto\">\n<div class=\"p-rich_text_section\">&gt;\_ /scheduler/node/&lt;node_id&gt;/scheduler/var/lib/replicated-operator/logs/*</div>\n<div class=\"p-rich_text_section\">&gt; <a class=\"c-link\" href=\"https://help.replicated.com/docs/native/packaging-an-application/support-bundle-v1/\" target=\"_blank\" rel=\"noopener noreferrer\" data-stringify-link=\"https://help.replicated.com/docs/native/packaging-an-application/support-bundle-v1/\" data-sk=\"tooltip_parent\" aria-describedby=\"sk-tooltip-143345\">https://help.replicated.com/docs/native/packaging-an-application/support-bundle-v1/</a>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"c-message_actions__container c-message__actions\" aria-label=\"Message shortcuts\" data-qa=\"message-actions\">\_</div>\n<div class=\"c-message_actions__container c-message__actions\" aria-label=\"Message shortcuts\" data-qa=\"message-actions\">The total size of logs managed by the Replicated Operator can be limited, by default, it's 500MB. So, to reduce the size of the Support bundle, you can follow the steps below.\_<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">Below is an example `/etc/default/replicated-operator` configuration file with Operator set to reduce total log size to 10MB.</span>\n</div>\n<div class=\"c-message_actions__container c-message__actions\" aria-label=\"Message shortcuts\" data-qa=\"message-actions\">\_</div>\n<div class=\"c-message_actions__container c-message__actions\" aria-label=\"Message shortcuts\" data-qa=\"message-actions\">1. Add `APP_LOG_SIZE` environment variable into the replicated-operator option.</div>\n<div class=\"c-message_actions__container c-message__actions\" aria-label=\"Message shortcuts\" data-qa=\"message-actions\">\n<pre><code>\n      $ vim /etc/default/replicated-operator<br>\n  \t\t  REPLICATED_OPERATOR_OPTS=\"-e TAGS=local -e LOG_LEVEL=info -e NODENAME=a.dev.instance -e PUBLIC_ADDRESS=1.2.3.4\"<br><br>â†“<br><br>REPLICATED_OPERATOR_OPTS=\"-e APP_LOG_SIZE=10MB -e TAGS=local -e LOG_LEVEL=info -e NODENAME=a.dev.instance -e PUBLIC_ADDRESS=1.2.3.4\"\n\t   </code></pre>\n<p>2. Restart replicated-operator</p>\n<pre><code>$ sudo service replicated-operator restart</code></pre>\n<p>\_</p>\n</div>"
