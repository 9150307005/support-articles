id: 360003540393
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360003540393.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360003540393-How-to-insert-files-as-environment-variables-with-Base64
author_id: 28200990948
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: -2
vote_count: 10
section_id: 115003580328
created_at: '2018-04-25T17:36:43Z'
updated_at: '2020-11-05T10:40:39Z'
name: How to insert files as environment variables with Base64
title: How to insert files as environment variables with Base64
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:56:26Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - environment variable
  - environment
  - base64
  - secret
  - insert secret
  - JSON service account
body: "<p>If you need to insert sensitive text-based documents or even small binary files into your project in secret it is possible to insert them as an environment\_variable by leveraging base64 encoding.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Base64\">Base64</a> is an encoding scheme to translate binary data into text strings. These values can be added to <a href=\"https://circleci.com/docs/2.0/contexts/\" target=\"_self\">a context</a> or inserted as <a href=\"https://circleci.com/docs/2.0/env-vars/\" target=\"_self\">an environment variable</a> and decoded at runtime.</p>\n<p>Environment variables can be configured in the UI under \"Project Settings\":</p>\n<p><img src=\"https://support.circleci.com/hc/article_attachments/360066587992/project-settings-env-var-v2.png\" alt=\"project-settings-env-var-v2.png\"></p>\n<p>While contexts can be configured under \"Organization Settings\":</p>\n<p><img src=\"https://support.circleci.com/hc/article_attachments/360066588212/org-settings-contexts-v2.png\" alt=\"org-settings-contexts-v2.png\"></p>\n<p>\_</p>\n<p>You can encode a file via your command line terminal by feeding it directly to base64.</p>\n<pre>base64 [option] [file]</pre>\n<p><a href=\"https://linux.die.net/man/1/base64\">Here is the MAN documentation for base64</a>.</p>\n<p><em>Note</em>\_If you are encoding a file (whether it be a large file or a \"binary\") for use as a CircleCI environment variable, you should pass the <code>-w 0</code>\_option to the command so newlines aren't present in the resulting base64, which will be converted to spaces when added to CircleCI.</p>\n<p>To then decode the base64 file from within your container you can run the decode option.</p>\n<pre>base64 --decode [file]</pre>\n<p>If your file is stored as an environment variable, you can pipe it directly to the base64 command to be decoded, storing the result in a file</p>\n<pre><span class=\"pl-c1\">echo</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$ENV_VARIABLE_NAME</span><span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">|</span> base64 --decode <span class=\"pl-k\">&gt;</span> filename.txt</pre>\n<p>\_</p>\n<p>For more information, you can read about <a href=\"https://circleci.com/docs/2.0/env-vars/#encoding-multi-line-environment-variables\" target=\"_self\">base64 encoding and decoding variables within a config in our docs</a>.</p>"
