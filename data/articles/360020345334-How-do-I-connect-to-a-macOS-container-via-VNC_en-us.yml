id: 360020345334
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360020345334.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360020345334-How-do-I-connect-to-a-macOS-container-via-VNC-
author_id: 403103999173
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 3
vote_count: 7
section_id: 115003327088
created_at: '2019-03-26T06:44:42Z'
updated_at: '2021-01-12T01:52:11Z'
name: How do I connect to a macOS container via VNC?
title: How do I connect to a macOS container via VNC?
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:57:53Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - ssh
  - ios
  - vnc
  - macOS
  - rerun with ssh
body: "<h3>To connect to a MacOS container via VNC:</h3>\n<ol>\n<li>Select one of your MacOS jobs and click the <strong><em>Rerun</em>\_</strong>button, then\_<strong><em><a href=\"https://circleci.com/docs/2.0/ssh-access-jobs/\" target=\"_blank\" rel=\"noopener\">Rerun Job with SSH<br><br></a></em></strong>\n</li>\n<li>Log into the container and change the password<br><code>$ sudo passwd distiller</code><br><br>\n</li>\n<li>Configure SSH port-forwarding <span class=\"wysiwyg-underline\">on your local machine</span><br><code>ssh -p 54782 &lt;mac container ip&gt; -L5901:localhost:5900 -N</code><br><br>\n</li>\n<li>\n<a style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; font-size: 1.142em; background-color: #ffffff;\" href=\"https://www.realvnc.com/en/connect/download/viewer/\" target=\"_blank\" rel=\"noopener\">Download</a><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; color: #172b4d; font-size: 1.142em;\"> and install VNC Viewer and access localhost:5901<br><br></span>\n</li>\n<li>\n<p id=\"HowtoconnecttomaccontainerviaVNC-installVNCclientandaccesslocalhost:5901&gt;https://www.realvnc.com/en/connect/download/viewer/\" style=\"margin: 0px; padding: 0px; color: #172b4d; font-size: 1.142em; font-weight: 400; line-height: 1.5; text-transform: none;\">Use the credentials \"<em>distiller/&lt;new password&gt;\"</em> when prompted</p>\n<p>\_</p>\n</li>\n</ol>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"><strong>Note</strong>: There is a known issue with version 10.2.0+ of the macOS images where\_</span><code>sudo passwd distiller</code>\_<span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">is unable to reset the password without the knowledge of the current password.<br><br>To mitigate this, you can create a new user account, and use the credentials of that new account instead of the \"<em>distiller</em>\" account for VNC login.</span></p>\n<p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">For example, the following command will create a user \"<em>vncuser</em>\":</span></p>\n<pre dir=\"ltr\"><code>sudo /usr/sbin/sysadminctl -addUser vncuser -fullName \"VNC User\" -password &lt;password&gt; -admin</code></pre>"
