id: 360048379532
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360048379532.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360048379532-Check-Available-Space-on-Remote-Docker-and-Docker-Layer-Caching
author_id: 403418857853
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003756627
created_at: '2020-08-27T22:05:38Z'
updated_at: '2020-08-27T22:12:08Z'
name: Check Available Space on Remote Docker and Docker Layer Caching
title: Check Available Space on Remote Docker and Docker Layer Caching
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-08-27T22:12:08Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: >-
  <p dir="auto">You can run the following command to see how much space has been
  currently used on the Docker Layer Caching volume with Remote Docker.</p>

  <pre>ssh remote-docker 'sudo df' | grep '/var/lib/docker' | awk '{print
  $4}'</pre>

  <p dir="auto">You could store that value and use it in additional scripting to
  perform actions to that Remote Docker instance and volume.</p>

  <pre>DLC_AVAILABLE_SPACE=$(ssh remote-docker 'sudo df' | grep
  '/var/lib/docker' | awk '{print $4}');</pre>

  <p dir="auto">You could also run:</p>

  <pre>docker system df</pre>

  <p dir="auto">This would produce more human-readable output.</p>
