id: 360045816254
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360045816254.json
html_url: https://support.circleci.com/hc/ja/articles/360045816254
author_id: 377853350854
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 1
vote_count: 17
section_id: 115004141747
created_at: '2020-04-07T08:43:29Z'
updated_at: '2021-01-22T09:22:06Z'
name: Powershell で `sudo` を利用する方法 - Windows executor
title: Powershell で `sudo` を利用する方法 - Windows executor
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2020-10-22T07:03:13Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - Windows
  - Powershell
body: "<p>Windows の Powershell には <code>sudo</code> がありません。いくつかのコマンドは管理者として実行する必要がありますが、Powershell にはその概念がありません。</p><p>\_</p><p>解決策の 1 つは、<code>Start-Process</code> コマンドを使用することです（<a href=\"https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/start-process\">https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/start-process</a>）。このコマンドの例は以下になります。</p><pre>Start-Process wpr -verb runAs -Args \"-start GeneralProfile\"</pre><p>これは、管理者として<code>wpr</code>（パフォーマンスレコーダー）を呼び出し、<code>-Args</code> フラグで必要な引数を渡しています。 しかし、この場合、どこか別の場所で新しいシェルを起動するので、出力を表示できないことです。</p><p>\_</p><p>もう 1 つの解決策として、scoop（<a href=\"https://scoop.sh/\">https://scoop.sh/</a>）を使用することです。scoop を利用し、Linux と同じ `sudo` のコマンドを利用することができます。 以下のように scoop をインストールできます。</p><pre>iex (new-object net.webclient).downloadstring('https://get.scoop.sh')<br>set-executionpolicy unrestricted -s cu -f<br>scoop install sudo</pre><p>このようにして、Linux のように <code>sudo</code> を使用できます。 しかし、この方法でも基本的には解決策１と同じことをしているため、出力を表示することはできません。 （スクリプトはこちらから確認できます：<a href=\"https://github.com/lukesampson/psutils/blob/master/sudo.ps1\">https://github.com/lukesampson/psutils/blob/master/sudo.ps1</a>）</p>"
