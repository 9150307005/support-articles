id: 360050448351
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360050448351.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360050448351-Enabling-Docker-Experimental-Features-on-Remote-Docker
author_id: 403418857853
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 2
vote_count: 2
section_id: 115003580328
created_at: '2020-10-01T20:31:15Z'
updated_at: '2021-02-04T11:50:04Z'
name: Enabling Docker Experimental Features on Remote Docker
title: Enabling Docker Experimental Features on Remote Docker
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:55:43Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: >-
  <p>Docker experimental features can be enabled by adding an
  /etc/docker/daemon.json with {"experimental": true} on the Remote Docker
  instance and restarting the daemon.</p>

  <pre>  steps:
      - setup_remote_docker:
          version: 18.09.3
      - run: |
          ssh remote-docker \&lt;&lt;EOF
            sudo bash -c 'echo "{\"experimental\": true}" &gt; /etc/docker/daemon.json'
            sudo systemctl restart docker
          EOF</pre>
  <p>Be sure to set a Docker version that supports the functionality you are
  looking to make use up. A list of currently support Docker versions for Remote
  Docker is available
  here:<br><br>https://circleci.com/docs/2.0/building-docker-images/#docker-version</p>

  <p><br>This can then be used from the Docker cli.</p>

  <pre>  - run: DOCKER_BUILDKIT=1 docker build .

  </pre>
