id: 360015562253
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360015562253.json
html_url: https://support.circleci.com/hc/ja/articles/360015562253
author_id: 25261361207
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 19
vote_count: 31
section_id: 115003580328
created_at: '2019-01-10T17:14:40Z'
updated_at: '2020-11-19T19:11:13Z'
name: 実行中のジョブを条件付きで正常終了させる方法
title: 実行中のジョブを条件付きで正常終了させる方法
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2020-10-29T06:00:15Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - job
  - conditional
  - when
body: "<p>ビルド中に、ジョブを失敗させずに早期終了させたい場合あります。</p><p><code class=\"highlighter-rouge\">circleci-agent step halt</code> コマンドを実行して、ジョブを正常終了させることができます。</p><p><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">このコマンドを </span><code class=\"highlighter-rouge\" style=\"font-size: 15px;\">if</code><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">\_</span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">ステートメントや\_</span><code class=\"highlighter-rouge\" style=\"font-size: 15px;\">when</code><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">\_ステップ</span><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">と組み合わせて、ジョブのライフサイクルを条件を付けて制御できます。</span></p><h3><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">例：</span></h3><ul><li><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\"><strong><code class=\"highlighter-rouge\" style=\"font-size: 15px;\">if</code>\_ステートメント：</strong><br></span></li></ul><pre class=\"bash-command\" title=\"このセットアップを実行するために使用される bash コマンド\">run: |<br>    if [ \"$CIRCLE_BRANCH\" = \"develop\" ]; then<br><strong>        <span>circleci-agent</span> step halt</strong>    fi</pre><p>\_</p><ul><li><strong><code class=\"highlighter-rouge\" style=\"font-size: 15px;\">when</code><span style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;\">\_ステップ：</span></strong></li></ul><pre>- when:<br>    condition: false<br>    steps:<br>      - run:<br>          command: <strong>circleci-agent step halt</strong></pre>"
