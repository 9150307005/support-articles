id: 360045096514
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360045096514.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360045096514-Shallow-Repository-Cloning
author_id: 385569260514
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: -1
vote_count: 5
section_id: 115003580328
created_at: '2020-03-25T15:58:18Z'
updated_at: '2020-12-15T04:27:23Z'
name: Shallow Repository Cloning
title: Shallow Repository Cloning
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T07:00:40Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: "<p>Shallow cloning a git repository can offer some performance improvement, especially for larger projects with a number of commits, by pulling the smallest number of changes possible. This can either be implemented manually using a custom cloning step or by utilizing <a href=\"https://circleci.com/orbs/registry/?filterBy=all&amp;query=shallow\" target=\"_self\">an Orb</a>.</p>\n<p>To fetch and modify the default checkout step, see this article:\_<a href=\"https://support.circleci.com/hc/en-us/articles/115015659247\" target=\"_blank\" rel=\"noopener\">How do I modify the checkout step?</a></p>\n<p>Some flags to note that can be added to the <code>git clone &lt;repository&gt;</code> command:</p>\n<ul>\n<li>\n<code>--depth &lt;depth&gt;</code> will limit the number of commits fetched for the repository or branch being checked out.</li>\n<li>\n<code>--shallow-since=&lt;date&gt;</code> will do a shallow checkout from the date specified (date should be formatted as\_YYYY-MM-DD)</li>\n<li>\n<code>--no-tags</code> prevents git from cloning any tags from the repository (if the installed version of git supports it).</li>\n</ul>\n<p><em>source &amp; more flags:\_<a href=\"https://git-scm.com/docs/git-clone\">https://git-scm.com/docs/git-clone</a></em></p>\n<pre>version: 2.1<br><br>jobs:<br>  build:<br>    docker:<br>      - image: circleci/node:latest<br>    steps:<br>      - run: git clone --depth 5 \"$<span class=\"pre\"><span class=\"white\">CIRCLE_REPOSITORY_URL\" --branch \"$</span></span><span class=\"pre\"><span class=\"white\">CIRCLE_BRANCH\"</span></span></pre>"
