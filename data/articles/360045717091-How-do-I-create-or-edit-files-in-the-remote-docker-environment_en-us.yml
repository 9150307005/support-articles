id: 360045717091
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360045717091.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360045717091-How-do-I-create-or-edit-files-in-the-remote-docker-environment-
author_id: 25261361207
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 1
vote_count: 1
section_id: 115003580328
created_at: '2020-07-01T17:07:08Z'
updated_at: '2021-02-08T10:39:35Z'
name: How do I create or edit files in the remote docker environment?
title: How do I create or edit files in the remote docker environment?
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:58:17Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: "<p>It's possible to edit or create files on the remote docker environment with an ssh command.</p>\n<p>Note that the <strong>-a</strong> in the tee command will append to a file if it exists, or create the file if it does not exist. In this example we are creating a\_<strong>daemon.json</strong> file in\_<strong>/etc/docker</strong> with configuration to use a registry-mirror. Then we execute\_<strong>sudo service docker restart\_</strong>on the remote environment to restart the docker daemon, which will pick up the new configuration. Then\_<strong>docker system info\_</strong>executes in the primary container, and will report the successful configuration of docker.<br><br>The strategy can be used for other services\_as well that need to be configured in the remote environment.</p>\n<div>\n<pre>version: 2.1<br><br>jobs:<br> build:<br>  docker:<br>   - image: circleci/python:3<br>  steps:<br>   - setup_remote_docker:<br>      version: \"19.03.8\"<br>   - run:<br>      command: |<br>        cat \\&lt;&lt; EOF | ssh remote-docker \"sudo tee -a /etc/docker/daemon.json\"<br>        {<br>        \"registry-mirrors\": [\"https://mirror.gcr.io\"]<br>        }<br>        EOF<br>        ssh remote-docker \"sudo service docker restart\"<br>        docker system info</pre>\n</div>"
