id: 360044577411
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360044577411.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360044577411-ERROR-Failed-to-download-Chromium-r686378-
author_id: 405652843914
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: -2
vote_count: 4
section_id: 115003580328
created_at: '2020-06-05T20:25:53Z'
updated_at: '2020-11-18T06:58:33Z'
name: 'ERROR: Failed to download Chromium r686378!'
title: 'ERROR: Failed to download Chromium r686378!'
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:59:43Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - puppeteer
  - chromium
body: "<p>When utilizing Puppeteer you may intermittently encounter a build failure with the following error message:</p>\n<pre>ERROR: Failed to download Chromium r686378!</pre>\n<p>Your error may not be exactly the above, <code>r686378</code> is a reference to the version, so it could be another value. However, the general consensus is the following options have resolved the issue.</p>\n<h2>Set download host</h2>\n<p>An existing Puppeteer issue was opened regarding this and the following solution helped a lot of people, which is to set the download host specifically:</p>\n<p><a href=\"https://github.com/puppeteer/puppeteer/issues/1597#issuecomment-351945645\">https://github.com/puppeteer/puppeteer/issues/1597#issuecomment-351945645</a></p>\n<h2>Set\_unsafe-perm param</h2>\n<p>A similar issue was opened by another Puppeteer user, however the solution was slightly different:</p>\n<p><a href=\"https://github.com/puppeteer/puppeteer/issues/3107#issuecomment-414313855\">https://github.com/puppeteer/puppeteer/issues/3107#issuecomment-414313855</a></p>\n<p>This solution has setting <code>unsafe-perm</code> to true:</p>\n<pre>npm install puppeteer --unsafe-perm=true\_</pre>\n<h2>Download Chromium Directly</h2>\n<p>To allow for more control over where and how you are downloading Chromium, you can download it directly. You could even implement a <a href=\"https://stackoverflow.com/questions/42873285/curl-retry-mechanism\" target=\"_blank\" rel=\"noopener\">retry functionality into your cURL</a> to ensure you get it downloaded.</p>\n<p>Then you would utilize <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#environment-variables\" target=\"_blank\" rel=\"noopener\">Puppeteers Environment Variables</a> to skip the Chromium download and point it to where you manually downloaded Chromium.</p>"
