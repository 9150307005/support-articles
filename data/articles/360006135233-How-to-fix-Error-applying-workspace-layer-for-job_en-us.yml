id: 360006135233
url: >-
  https://circleci.zendesk.com/api/v2/help_center/en-us/articles/360006135233.json
html_url: >-
  https://support.circleci.com/hc/en-us/articles/360006135233-How-to-fix-Error-applying-workspace-layer-for-job-
author_id: 28200990948
comments_disabled: false
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003756627
created_at: '2018-06-20T14:30:54Z'
updated_at: '2021-01-12T01:48:02Z'
name: How to fix `Error applying workspace layer for job`
title: How to fix `Error applying workspace layer for job`
source_locale: en-us
locale: en-us
outdated: false
outdated_locales: []
edited_at: '2020-10-22T06:58:18Z'
user_segment_id: null
permission_group_id: 237867
label_names:
  - workspaces
  - tarball
  - workspace
body: "<p>If your project is utilizing <a href=\"https://circleci.com/docs/2.0/workflows/#using-workspaces-to-share-data-among-jobs\">Workspaces</a>, but you run into trouble when attaching the workspace later on in the workflow, you may have exceeded your memory limit.</p>\n<p>Your error may look similar to below.</p>\n<pre><code class=\"bash\">\n\"Error applying workspace layer for job 5cb8xxxx-xxxx-4499-9xxxx-1aaa2943xxxx: \nError extracting tarball /tmp/workspace-layer-5cb8xxxx-xxxx-4499-9xxx-1aaa2943xxxxx04313xx: \nsignal: killed\"\n</code></pre>\n<p>In this particular error, we can clearly see the process was gracefully killed with the `signal: killed` message. This is a guaranteed message that your container has exceeded its memory resource limits. Your error may or may not contain this message but have failed anyway in a similar way.</p>\n<p>\_You can follow the instructions in <a href=\"https://support.circleci.com/hc/en-us/articles/360043994872\" target=\"_self\">this article</a> to record the max memory usage of your job.</p>\n<h2>Options to resolve:</h2>\n<ol>\n<li>Reduce tarball size. The larger the tarball, the more memory will be utilized while decompressing. If your workspace's physical size is near or over your container's memory limit (4gb by default), you can exceed it easily, especially if you have one or more databases also running.</li>\n<li>\n<a href=\"https://circleci.com/support/premium-support/\">Contact support</a> to inquire about upgrading your container's resource limits via the `resource_class` key in your config.yml. This option is already available to those on the \"Performance plan\"<br><a href=\"https://circleci.com/docs/2.0/configuration-reference/#resource_class\" target=\"_blank\" rel=\"noopener\">https://circleci.com/docs/2.0/configuration-reference/#resource_class</a>\n</li>\n</ol>"
