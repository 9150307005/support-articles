id: 360053200971
url: https://circleci.zendesk.com/api/v2/help_center/ja/articles/360053200971.json
html_url: https://support.circleci.com/hc/ja/articles/360053200971
author_id: 382351624233
comments_disabled: true
draft: false
promoted: false
position: 0
vote_sum: 0
vote_count: 0
section_id: 115003756627
created_at: '2020-12-02T18:17:27Z'
updated_at: '2021-01-27T08:50:59Z'
name: 各出力行にタイミング データを追加する
title: 各出力行にタイミング データを追加する
source_locale: en-us
locale: ja
outdated: false
outdated_locales: []
edited_at: '2021-01-27T08:50:59Z'
user_segment_id: null
permission_group_id: 237867
label_names: []
body: >-
  <p>ジョブの完了にかかる時間の急増の解消や、パイプラインの最適化には、ジョブのステップのうち実行時間が長かったものをデバッグすることをお勧めします。</p><p>通常、タイミング
  データが記録されるかどうかは、そのとき実行中のコマンドによりますが、bash
  スクリプトを使用すればこの記録手順を追加できます。</p><p>具体例を以下に示します。</p><pre>- run: example_command |
  while read line ; do echo "$(date +"%T") &gt; $line" ; done
  ;</pre><p>これで、以下の行が記述され、出力されます。</p><pre class="css-1hjuxmj">21:15:46 &gt; Some
  Output Line 121:16:12 &gt; Some Output Line 221:17:41 &gt; Some Output Line
  3</pre><p>タイミング データ形式を HH:MM:SS
  で記録すると情報を細かく把握でき、想定よりも時間のかかったステップの追跡に役立ちます。</p>
